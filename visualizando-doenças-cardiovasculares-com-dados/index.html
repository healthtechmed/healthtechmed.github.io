<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="/images/favicon.svg">
    
    <link rel="stylesheet" href="/scss/global.min.6edbadf5ff63eea55311507006567da194f7fdf71cc6d47bec9f7c7b2dcf0617.css">
    
    <link rel="stylesheet" href="/css/prism.css" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather&display=swap" rel="stylesheet">
    

 






	




<title>Visualizando Doenças Cardiovasculares com Dados | Health Tech</title>
<meta name="description" content="Introdução Compreendendo uma gama diversa de patologias, as doenças cardiovasculares estão entre as mais letais do mundo - com estimativas chegando à 17.9 milhões de mortes anuais segundo a WHO. Os fatores de risco para doenças cardiovasculares como um todo variam de fatores modificáveis - como estilo de vida sedentário - até aqueles não modificáveis - como idade e histórico familiar.
O objetivo desse tutorial é explorar um banco de dados com 303 pacientes, alguns controle e alguns com alguma doença cardivascular, buscando observar correlações entre nossas variáveis e como elas se relacionam com a literatura atual.">
<meta property="og:title" content="Visualizando Doenças Cardiovasculares com Dados | Health Tech">
<meta property="og:site_name" content="Health Tech">
<meta property="og:description" content="Introdução Compreendendo uma gama diversa de patologias, as doenças cardiovasculares estão entre as mais letais do mundo - com estimativas chegando à 17.9 milhões de mortes anuais segundo a WHO. Os fatores de risco para doenças cardiovasculares como um todo variam de fatores modificáveis - como estilo de vida sedentário - até aqueles não modificáveis - como idade e histórico familiar.
O objetivo desse tutorial é explorar um banco de dados com 303 pacientes, alguns controle e alguns com alguma doença cardivascular, buscando observar correlações entre nossas variáveis e como elas se relacionam com a literatura atual.">
<meta property="og:url" content="/visualizando-doen%C3%A7as-cardiovasculares-com-dados/">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:image" content='/images/heart.png'><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Visualizando Doenças Cardiovasculares com Dados | Health Tech">

	<link rel="canonical" href="/visualizando-doen%C3%A7as-cardiovasculares-com-dados/">


	<meta name="twitter:description" content="Introdução Compreendendo uma gama diversa de patologias, as doenças cardiovasculares estão entre as mais letais do mundo - com estimativas chegando à 17.9 milhões de mortes anuais segundo a WHO. Os fatores de risco para doenças cardiovasculares como um todo variam de fatores modificáveis - como estilo de vida sedentário - até aqueles não modificáveis - como idade e histórico familiar.
O objetivo desse tutorial é explorar um banco de dados com 303 pacientes, alguns controle e alguns com alguma doença cardivascular, buscando observar correlações entre nossas variáveis e como elas se relacionam com a literatura atual.">
<meta name="twitter:image" content="/images/heart.png">
<meta property="article:published_time" content="2020-06-05T00:00:00&#43;00:00">
	<meta property="article:updated_time" content="2020-06-05T00:00:00&#43;00:00">



    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"     ></script>
    
    <script>hljs.initHighlightingOnLoad();</script>
</head>


<body class="line-numbers">

    
    <script src="/js/initColors.js"></script>

    <div class="layout-styled">

        <Section class="section">
  <div class="nav-container">
    <a class="logo-link" href="/">
      <div id="logo-desktop">
   <img src="/images/HealthTechLogo.png">
</div>
<div id="logo-mobile" class="hidden">
   <img src="/images/HealthTechLogo.png">
</div>
      <span class="header-hidden">Navigate back to the homepage</span>
    </a>
    <div class="nav-controls">
      <button id="copyButton" class="icon-wrapper">
        <svg
    class="icon-image"
    width="24"
    height="20"
    viewBox="0 0 24 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z"
      fill="#000"
    />
</svg>
        <div id="toolTip" class="tool-tip " >
            copied
        </div>
        <input id="copyText" style="opacity: 0;" type="text" class="tool-tip " />
      </button>

    </div>
</div>
</Section>


<script src="/js/toggleLogos.js"></script>


<script src="/js/toggleColors.js"></script>


<script src="/js/copyUrl.js"></script>

        

<section class="section narrow">

    <section id="articleHero" class="section narrow">
    <div class="article-hero">
        <header class="article-header">
            <h1 class="article-hero-heading">Visualizando Doenças Cardiovasculares com Dados</h1>
            <div class="article-hero-subtitle">
                <div class="article-meta">
                    


    
            <a href="/authors/guilherme-almeida/" class="article-author-link">
                
                    <div class="article-author-avatar">
                        <img src="/images/eu.png" />
                    </div>
                
                
                <strong>Guilherme Almeida</strong>
                
                <span class="hide-on-mobile">,&nbsp;</span>
            </a>
    



<script src="/js/collapseAuthors.js"></script>
                    June 5, 2020
                    • 11 min read
                </div>
            </div>
        </header>
        
        
    </div>
</section>


    

    <article  id="articleContent" class="post-content" style="position:relative;">
        
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>


<div id="introdução" class="section level2">
<h2>Introdução</h2>
<p>Compreendendo uma gama diversa de patologias, as doenças cardiovasculares estão entre as mais letais do mundo - com estimativas chegando à <a href="https://www.who.int/en/news-room/fact-sheets/detail/cardiovascular-diseases-(cvds)">17.9 milhões</a> de mortes anuais segundo a WHO. Os fatores de risco para doenças cardiovasculares como um todo variam de fatores modificáveis - como estilo de vida sedentário - até aqueles não modificáveis - como idade e histórico familiar.</p>
<p>O objetivo desse tutorial é explorar um banco de dados com 303 pacientes, alguns controle e alguns com alguma doença cardivascular, buscando observar correlações entre nossas variáveis e como elas se relacionam com a literatura atual.</p>
<p>Esse tutorial é voltado para pessoas na área da saúde com interesse em ciência de dados. Toda a parte de programação e estatísica será cuidadosamente explicada com esse público em mente.</p>
<p>Para realizar as análises, o software de escolha será a linguagem de programação <a href="https://www.r-project.org">R</a>. Leia o <a href="http://material.curso-r.com/instalacao/">esse tutorial</a> de como instalar a linguagem R e o R Studio na sua máquina se você já não os têm instalado.</p>
<p>Além de ter o R instalado, é preciso baixar o banco de dados que utilizaremos nessa série de tutoriais <a href="https://www.kaggle.com/ronitf/heart-disease-uci">aqui</a>.</p>
<p>Por fim, vamos instalar as ferramentas que utilizaremos para toda a análise. Basta digitar no console do R, que fica no canto inferior esquerdo do R Studio:</p>
<pre class="r"><code>packages.install(&quot;tidyverse&quot;)
packages.install(&quot;corrplot&quot;)</code></pre>
</div>
<div id="entendendo-o-banco-de-dados" class="section level2">
<h2>Entendendo o Banco de Dados</h2>
<p>O primeiro passo, e talvez um dos mais importantes, é conhecer seus dados. Entender <em>como</em> está estruturado o seu banco de dados é fundamental para qualquer análise.
Para responder essa pergunta e várias outras que faremos no decorrer desse tutorial, utilizaremos um conjunto de ferramentas chamado Tidyverse. Nele nós vamos encontrar ferramentas para carregar, manipular, analisar e plotar o nosso banco de dados.</p>
<p>Vamos carregar o <code>tidyverse</code> e o <code>corrplot</code>:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.0     ✓ purrr   0.3.3
## ✓ tibble  3.0.0     ✓ dplyr   0.8.5
## ✓ tidyr   1.0.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(corrplot)</code></pre>
<pre><code>## corrplot 0.84 loaded</code></pre>
<p>Para trabalhar com o nosso banco de dados, é preciso carregar ele para o R. Utilizaremos o método <code>read_csv</code> para salvar nosso banco de dados a uma variável chamada <code>heart</code>.</p>
<p>O método <code>read_csv</code> espera uma string (texto) indicando o local do arquivo do banco de dados, que no <em>meu</em> caso está em <code>&quot;data/heart.csv&quot;</code>, mas muito provavelmente ele estará em um local diferente na sua máquina:</p>
<pre class="r"><code>heart &lt;- read_csv(&quot;data/heart.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   age = col_double(),
##   sex = col_double(),
##   cp = col_double(),
##   trestbps = col_double(),
##   chol = col_double(),
##   fbs = col_double(),
##   restecg = col_double(),
##   thalach = col_double(),
##   exang = col_double(),
##   oldpeak = col_double(),
##   slope = col_double(),
##   ca = col_double(),
##   thal = col_double(),
##   target = col_double()
## )</code></pre>
<p>Em R, nós damos um valor a uma variável qualquer usando o sintaxe <code>variavel &lt;- valor</code>.
No caso acima, nós lemos o banco de dados do arquivo <code>heart.csv</code> e dá esse valor à variável <code>heart</code>.</p>
<p>Podemos visualizar a tabela com o código</p>
<pre class="r"><code>View(table)</code></pre>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303"],[63,37,41,56,57,57,56,44,52,57,54,48,49,64,58,50,58,66,43,69,59,44,42,61,40,71,59,51,65,53,41,65,44,54,51,46,54,54,65,65,51,48,45,53,39,52,44,47,53,53,51,66,62,44,63,52,48,45,34,57,71,54,52,41,58,35,51,45,44,62,54,51,29,51,43,55,51,59,52,58,41,45,60,52,42,67,68,46,54,58,48,57,52,54,45,53,62,52,43,53,42,59,63,42,50,68,69,45,50,50,64,57,64,43,55,37,41,56,46,46,64,59,41,54,39,34,47,67,52,74,54,49,42,41,41,49,60,62,57,64,51,43,42,67,76,70,44,60,44,42,66,71,64,66,39,58,47,35,58,56,56,55,41,38,38,67,67,62,63,53,56,48,58,58,60,40,60,64,43,57,55,65,61,58,50,44,60,54,50,41,51,58,54,60,60,59,46,67,62,65,44,60,58,68,62,52,59,60,49,59,57,61,39,61,56,43,62,63,65,48,63,55,65,56,54,70,62,35,59,64,47,57,55,64,70,51,58,60,77,35,70,59,64,57,56,48,56,66,54,69,51,43,62,67,59,45,58,50,62,38,66,52,53,63,54,66,55,49,54,56,46,61,67,58,47,52,58,57,58,61,42,52,59,40,61,46,59,57,57,55,61,58,58,67,44,63,63,59,57,45,68,57,57],[1,1,0,1,0,1,0,1,1,1,1,0,1,1,0,0,0,0,1,0,1,1,1,1,1,0,1,1,0,1,0,1,1,1,1,0,0,1,0,0,0,1,1,0,1,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,1,0,1,0,1,1,1,1,0,0,1,1,1,1,1,1,0,1,0,0,1,1,0,0,1,1,1,0,0,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,1,1,1,0,1,0,0,0,1,0,0,1,1,1,0,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,0,0,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,0],[3,2,1,1,0,0,1,1,2,2,0,2,1,3,3,2,2,3,0,3,0,2,0,2,3,1,2,2,2,2,1,0,1,2,3,2,2,2,2,2,2,1,0,0,2,1,2,2,2,0,2,0,2,2,2,1,0,0,3,0,2,1,3,1,2,0,2,1,1,0,2,2,1,0,2,1,2,1,1,2,2,1,2,3,0,2,2,1,2,0,2,0,2,1,1,0,0,0,2,2,3,3,1,2,2,2,3,0,1,0,0,2,2,0,1,2,2,3,1,0,0,0,2,2,2,1,0,2,2,1,2,1,1,1,1,0,2,1,0,0,2,0,2,0,2,1,2,3,2,2,0,0,3,2,2,0,2,1,1,1,1,1,1,2,2,0,0,0,0,0,2,1,1,2,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,2,0,0,0,0,0,0,2,0,0,0,0,2,0,2,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,1,0,3,2,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,1,2,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,1,1,0,0,0,2,0,0,0,3,1,0,0,0,0,0,2,0,0,0,0,0,3,0,0,1],[145,130,130,120,120,140,140,120,172,150,140,130,130,110,150,120,120,150,150,140,135,130,140,150,140,160,150,110,140,130,105,120,130,125,125,142,135,150,155,160,140,130,104,130,140,120,140,138,128,138,130,120,130,108,135,134,122,115,118,128,110,108,118,135,140,138,100,130,120,124,120,94,130,140,122,135,125,140,128,105,112,128,102,152,102,115,118,101,110,100,124,132,138,132,112,142,140,108,130,130,148,178,140,120,129,120,160,138,120,110,180,150,140,110,130,120,130,120,105,138,130,138,112,108,94,118,112,152,136,120,160,134,120,110,126,130,120,128,110,128,120,115,120,106,140,156,118,150,120,130,160,112,170,146,138,130,130,122,125,130,120,132,120,138,138,160,120,140,130,140,130,110,120,132,130,110,117,140,120,150,132,150,130,112,150,112,130,124,140,110,130,128,120,145,140,170,150,125,120,110,110,125,150,180,160,128,110,150,120,140,128,120,118,145,125,132,130,130,135,130,150,140,138,200,110,145,120,120,170,125,108,165,160,120,130,140,125,140,125,126,160,174,145,152,132,124,134,160,192,140,140,132,138,100,160,142,128,144,150,120,178,112,123,108,110,112,180,118,122,130,120,134,120,100,110,125,146,124,136,138,136,128,126,152,140,140,134,154,110,128,148,114,170,152,120,140,124,164,140,110,144,130,130],[233,250,204,236,354,192,294,263,199,168,239,275,266,211,283,219,340,226,247,239,234,233,226,243,199,302,212,175,417,197,198,177,219,273,213,177,304,232,269,360,308,245,208,264,321,325,235,257,216,234,256,302,231,141,252,201,222,260,182,303,265,309,186,203,211,183,222,234,220,209,258,227,204,261,213,250,245,221,205,240,250,308,318,298,265,564,277,197,214,248,255,207,223,288,160,226,394,233,315,246,244,270,195,240,196,211,234,236,244,254,325,126,313,211,262,215,214,193,204,243,303,271,268,267,199,210,204,277,196,269,201,271,295,235,306,269,178,208,201,263,295,303,209,223,197,245,242,240,226,180,228,149,227,278,220,197,253,192,220,221,240,342,157,175,175,286,229,268,254,203,256,229,284,224,206,167,230,335,177,276,353,225,330,230,243,290,253,266,233,172,305,216,188,282,185,326,231,254,267,248,197,258,270,274,164,255,239,258,188,177,229,260,219,307,249,341,263,330,254,256,407,217,282,288,239,174,281,198,288,309,243,289,289,246,322,299,300,293,304,282,269,249,212,274,184,274,409,246,283,254,298,247,294,299,273,309,259,200,244,231,228,230,282,269,206,212,327,149,286,283,249,234,237,234,275,212,218,261,319,166,315,204,218,223,207,311,204,232,335,205,203,318,225,212,169,187,197,176,241,264,193,131,236],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0],[0,1,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,1,0,1,0,1,1,0,1,1,0,1,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,1,1,0,1,1,1,0,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,0,1,1,1,1,1,1,0,0,1,0,1,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,0,1,1,0,1,1,1,2,0,1,1,1,1,0,1,0,0,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,0,1,0,0,0,0,1,0,0,1,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,0,1,1,1,1,1,1,0,0,2,0,0,0,0,1,1,1,0,1,1,1,0,0,1,1,1,1,0,1,1,0,1,2,1,2,0,0,1,0,1,0,1,1,1,1,0],[150,187,172,178,163,148,153,173,162,174,160,139,171,144,162,158,172,114,171,151,161,179,178,137,178,162,157,123,157,152,168,140,188,152,125,160,170,165,148,151,142,180,148,143,182,172,180,156,115,160,149,151,146,175,172,158,186,185,174,159,130,156,190,132,165,182,143,175,170,163,147,154,202,186,165,161,166,164,184,154,179,170,160,178,122,160,151,156,158,122,175,168,169,159,138,111,157,147,162,173,178,145,179,194,163,115,131,152,162,159,154,173,133,161,155,170,168,162,172,152,122,182,172,167,179,192,143,172,169,121,163,162,162,153,163,163,96,140,126,105,157,181,173,142,116,143,149,171,169,150,138,125,155,152,152,131,179,174,144,163,169,166,182,173,173,108,129,160,147,155,142,168,160,173,132,114,160,158,120,112,132,114,169,165,128,153,144,109,163,158,142,131,113,142,155,140,147,163,99,158,177,141,111,150,145,161,142,157,139,162,150,140,140,146,144,136,97,132,127,150,154,111,174,133,126,125,103,130,159,131,152,124,145,96,109,173,171,170,162,156,112,143,132,88,105,166,150,120,195,146,122,143,106,125,125,147,130,126,154,182,165,160,95,169,108,132,117,126,116,103,144,145,71,156,118,168,105,141,152,125,125,156,134,181,138,120,162,164,143,130,161,140,146,150,144,144,136,90,123,132,141,115,174],[0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,1,1,0,0,1,1,0,1,0,1,0,0,1,0,0,1,1,1,0,1,1,0,0,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,0,0,1,1,0,1,0,0,1,1,1,1,0,1,1,0,1,1,0,0,1,1,0,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,1,0,1,0,0,1,0],[2.3,3.5,1.4,0.8,0.6,0.4,1.3,0,0.5,1.6,1.2,0.2,0.6,1.8,1,1.6,0,2.6,1.5,1.8,0.5,0.4,0,1,1.4,0.4,1.6,0.6,0.8,1.2,0,0.4,0,0.5,1.4,1.4,0,1.6,0.8,0.8,1.5,0.2,3,0.4,0,0.2,0,0,0,0,0.5,0.4,1.8,0.6,0,0.8,0,0,0,0,0,0,0,0,0,1.4,1.2,0.6,0,0,0.4,0,0,0,0.2,1.4,2.4,0,0,0.6,0,0,0,1.2,0.6,1.6,1,0,1.6,1,0,0,0,0,0,0,1.2,0.1,1.9,0,0.8,4.2,0,0.8,0,1.5,0.1,0.2,1.1,0,0,0.2,0.2,0,0,0,2,1.9,0,0,2,0,0,0,0,0.7,0.1,0,0.1,0.2,0,0,0,0,0,0,0,0,1.5,0.2,0.6,1.2,0,0.3,1.1,0,0.3,0.9,0,0,2.3,1.6,0.6,0,0,0.6,0,0,0.4,0,0,1.2,0,0,0,1.5,2.6,3.6,1.4,3.1,0.6,1,1.8,3.2,2.4,2,1.4,0,2.5,0.6,1.2,1,0,2.5,2.6,0,1.4,2.2,0.6,0,1.2,2.2,1.4,2.8,3,3.4,3.6,0.2,1.8,0.6,0,2.8,0.8,1.6,6.2,0,1.2,2.6,2,0,0.4,3.6,1.2,1,1.2,3,1.2,1.8,2.8,0,4,5.6,1.4,4,2.8,2.6,1.4,1.6,0.2,1.8,0,1,0.8,2.2,2.4,1.6,0,1.2,0,0,2.9,0,2,1.2,2.1,0.5,1.9,0,0,2,4.2,0.1,1.9,0.9,0,0,3,0.9,1.4,3.8,1,0,2,1.8,0,0.1,3.4,0.8,3.2,1.6,0.8,2.6,1,0.1,1,1,2,0.3,0,3.6,1.8,1,2.2,0,1.9,1.8,0.8,0,3,2,0,4.4,2.8,0.8,2.8,4,0,1,0.2,1.2,3.4,1.2,0],[0,0,2,2,2,1,1,2,2,2,2,2,2,1,2,1,2,0,2,2,1,2,2,1,2,2,2,2,2,0,2,2,2,0,2,0,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2,1,2,2,2,1,1,1,2,2,1,2,2,2,1,1,1,2,2,1,1,2,2,2,2,1,2,1,2,2,2,2,0,2,0,2,1,1,1,2,2,2,2,2,2,2,2,1,1,2,1,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,1,1,2,1,1,2,1,2,1,2,2,2,2,1,1,1,1,1,2,2,1,2,0,2,2,2,2,1,1,0,1,0,1,0,1,2,1,1,2,2,1,1,1,1,2,1,1,2,2,1,1,2,1,1,1,1,1,0,1,1,1,2,2,1,2,1,0,2,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,0,1,0,1,0,1,1,1,1,2,1,1,0,1,2,2,1,2,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,2,1,2,1,0,2,1,1,2,1,2,1,2,2,1,1,1,1,2,2,1,2,2,1,1,2,0,1,1,0,2,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,1,0,1,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,4,1,0,0,0,3,1,3,2,0,2,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,1,0,0,0,0,0,0,1,0,0,0,0,4,0,0,0,0,4,4,3,2,2,1,0,1,0,0,2,2,0,2,0,0,1,1,3,0,1,0,1,1,1,1,0,0,3,1,2,0,0,0,2,2,2,1,1,0,0,3,1,1,2,3,1,1,1,0,0,1,0,1,3,1,2,3,0,1,2,1,0,1,0,0,0,0,3,1,1,3,0,2,2,3,0,1,0,2,1,1,0,2,3,1,3,3,4,3,2,0,3,2,0,0,0,2,1,2,2,1,1,0,3,2,0,0,2,0,1,1,2,1,0,2,1,0,0,1,0,1,2,2,1,1,1,1,3,2,0,0,2,0,2,0,0,2,1,1],[1,2,2,2,2,1,2,3,3,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,3,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,0,2,2,2,3,2,2,2,2,2,2,2,2,3,1,1,2,2,2,2,2,2,3,3,2,2,2,2,2,2,2,3,2,2,2,3,2,3,3,3,2,2,2,3,2,2,2,3,2,3,2,2,2,3,2,3,2,2,2,2,2,2,2,3,3,3,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,3,2,2,2,2,2,2,2,2,2,2,1,2,3,2,2,2,2,2,3,3,2,2,2,2,2,2,3,2,3,3,1,3,2,3,3,3,3,2,3,1,3,3,2,3,3,2,3,3,3,3,3,3,3,3,2,3,2,3,3,1,2,3,3,3,3,3,3,3,3,3,3,3,3,3,2,3,3,3,3,3,3,3,2,3,3,3,3,3,3,3,2,3,3,2,2,3,3,3,2,3,3,2,1,3,1,3,3,1,3,3,3,3,2,2,2,3,3,3,2,3,3,2,3,2,2,2,2,2,2,3,3,2,2,3,2,3,3,3,2,2,1,0,1,3,3,3,2,2,3,3,3,1,1,3,1,3,2,1,3,3,3,3,2],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>sex<\/th>\n      <th>cp<\/th>\n      <th>trestbps<\/th>\n      <th>chol<\/th>\n      <th>fbs<\/th>\n      <th>restecg<\/th>\n      <th>thalach<\/th>\n      <th>exang<\/th>\n      <th>oldpeak<\/th>\n      <th>slope<\/th>\n      <th>ca<\/th>\n      <th>thal<\/th>\n      <th>target<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>A tabela gerada acima mostra um pouco do nosso banco de dados. Para facilitar o processamento dos dados, a tabela já veio encodificada em números, isto é, o sexo do paciente não é representado por valores de texto como “masculino” e “feminino”, mas sim por valores numéricos: 0 representando o sexo feminino e 1 representando o sexo masculino.</p>
<p>Isso é <em>extremamente</em> comum em ciência de dados pelo simples fato de que computadores não entendem textos muito bem. Para fazer com que o computador consiga entender e analisar os dados, é preciso que eles estejam em forma numérica.</p>
<p>É comum também nomear as colunas com nomes sem espaço ou acentos que são, em um primeiro momento, complicados de interpretar. Mas lendo a especificação do banco de dados, descobrimos que essas são as colunas e seus respectivos significados:</p>
<ul>
<li><code>age</code>: idade do paciente</li>
<li><code>sex</code>: sexo da paciente</li>
<li><code>cp</code>: tipo de dor no peito que o paciente está sentindo (<code>1</code> = angina típica, <code>2</code> = angina atípica, <code>3</code> = dor não classificada como angina e <code>4</code> = sem dor)</li>
<li><code>trestbps</code>: pressão sanguínea em repouso</li>
<li><code>chol</code>: colesterol circulante (mg/dl)</li>
<li><code>fbs</code>: hiperglicemia em jejum (&gt; 120mg/dl)</li>
<li><code>restecg</code>: alteração no eletrocardiograma em repouso</li>
<li><code>thalach</code>: frequência cadiaca máxima (bpm)</li>
<li><code>exang</code>: ocorrência de angina em exercírcio</li>
<li><code>oldpeak</code>: depressão em ST em exercírcio</li>
<li><code>slope</code>: tipo da curva ST (cima, baixo ou reta)</li>
<li><code>ca</code>: número de vasos maiores revelados na fluoroscopia (entre 0 e 3)</li>
<li><code>target</code>: presença de doença cardíaca no paciente (<code>0</code> = controle, <code>1</code> = paciente com doença cardiovascular)</li>
</ul>
</div>
<div id="pré-processamento" class="section level2">
<h2>Pré-Processamento</h2>
<p>O pré-processamento de um banco de dados é uma etapa crucial quando se trabalha com ciência de dados - um bom pré-processamento é um pré-requisito para uma análise de qualidade.
Normalmente, a primeira etapa de um pré-processamento seria lidar com valores nulos, porém esse banco de dados já veio parcialmente pré-processado por outros cientistas de dados, então essa etapa não será necessária.</p>
<p>Então o que falta fazer?</p>
<p>Bem, em quesito de análise o banco de dados está pronto. Entretanto, nós podemos mudar algumas coisinhas para facilitar a <em>visualização</em> dos nossos dados.</p>
<p>Para que algumas visualizações funcionem bem, é preciso transformar algumas variáveis para um tipo de dado que o R entende bem: <a href="https://www.datamentor.io/r-programming/factor/">Factors</a>.</p>
<p>O <strong>Factor</strong> é um tipo de dado do R que é ideal para representar dados categóricos (como sexo, diagnóstico, tipo de dor) de uma maneira que é interpretável tanto por nós, humanos, como para a máquina.</p>
<p>As funções <code>factor</code> e <code>ordered</code> criam, respectivamente, um Factor não ordenado e um ordenado. Vamos tomar exemplo as variáveis de sexo (<code>sex</code>) e de número de grandes vasos (<code>ca</code>).</p>
<p>Não faz sentido ordenarmos gênero - isto é, “masculino” não é maior ou menor que “feminino”. Então nós podemos transformar <code>sex</code> em um Factor através da função <code>factor</code>. Entretanto, a existe uma noção de ordenação na variável <code>ca</code>: ter três grandes vasos é maior que ter dois. Portanto em <code>ca</code>, nós usaremos a função <code>ordered</code>.</p>
<p>Para aplicar no nosso banco de dados, utilizamos a função <code>mutate</code> em conjunto:</p>
<pre class="r"><code>heart &lt;- heart %&gt;%
  mutate(sex = factor(sex),
         ca = ordered(ca),
         target = factor(target),
         cp = factor(cp),
         exang = factor(exang),
         slope = factor(slope),
         thal = factor(thal))</code></pre>
<p>Agora que nossos dados estão bem pré-processados, vamos começar a visualizá-los!</p>
</div>
<div id="analisando-variações" class="section level2">
<h2>Analisando Variações</h2>
<p>Existem duas grandes maneiras de explorar o nosso banco de dados, uma sendo a análsie de <strong>variância</strong>, isto é, analisar o comportamento de uma coluna em vários pacientes. A outra seria analisar o comportamento de multiplas colunas em relação a vários pacientes, uma análise de <strong>covariância</strong>.</p>
<p>Antes de começarmos a misturar várias colunas, vamos analisar algumas colunas isoladamente observando a variância delas.</p>
<p>Uma pergunta básica para fazer ao nosso banco de dados é: qual é a distribuição de sexo e de idade nele? É importante ter em mente essas distribuições para entender os limites de qualquer insight aqui produzido.</p>
<p>Para observar essas distribuições, podemos visualizá-las utilizando da biblioteca <code>ggplot</code>. Começando pelo sexo, o código básico para visualizar a quantidade de indivíduos de cada sexo como um gráfico de barra seria esse:</p>
<pre class="r"><code>ggplot(heart, aes(x = sex)) +
  geom_bar(aes(y = ..count.. / sum(..count..))) +
  labs(x = &quot;Sexo&quot;, y = &quot;Quantidade (%)&quot;) +
  ggtitle(&quot;Distribuição do Sexo&quot;)</code></pre>
<p><img src="/post/cardiovascular_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>O processo de criar um gráfico no <code>ggplot</code> é divido em linhas de código que vão dizer um aspecto específico do gráfico. É como se cada linha fosse um “bloquinho” que diz um pouco sobre o gráfico. Ao empilharmos vários bloquinhos nós temos um gráfico completo.</p>
<p>A primeira linha, <code>ggplot(heart, aes(x = sex))</code>, é uma espécie de base para o resto do gráfico: é nela onde o ambiente ggplot é criado com o banco de dados heart. Nela nós também dizemos ao R que o eixo X irá representar o sexo <code>(aes(x = sex))</code>.</p>
<p>A segunda linha, <code>geom_bar(aes(y = ..count.. / sum(..count..)))</code>, diz ao R que nós queremos criar um gráfico de barra aonde o eixo Y vai ser a razão da quantidade de pessoas de um sexo sobre o total de pessoas, ou seja, a porcentagem de pessoas daquele sexo. Nós usamos a fórmula <code>..count.. / sum(..count..)</code> pra calcular essa porcentagem.</p>
<p>Por fim, as últimas duas linhas são puramente estéticas. Elas dão legendas aos eixos X e Y e definem o título do gráfico. Perceba que sempre que nós vamos adicionar uma nova linha de código ao gráfico, é preciso terminar a linha anterior com +.</p>
<p>Para visualizar a distribuição de idade o processo é parecido. A grande diferença é que a idade é um tipo de dado contínuo, enquanto o sexo é discreto.</p>
<p>Existem vários métodos que permitem visualizar a distribuição de dados contínuos, aqui nós vamos utilizar o histograma, que é um primo do gráfico de barras utilizado acima.</p>
<pre class="r"><code>ggplot(heart, aes(x = age, y = ..count.. / sum(..count..))) +
  geom_histogram(binwidth = 5) +
  labs(x = &quot;Idade&quot;, y = &quot;Quantidade (%)&quot;) +
  ggtitle(&quot;Distribuição da Idade&quot;)</code></pre>
<p><img src="/post/cardiovascular_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>O código é bem parecido, mas o invés de utilizar a função <code>geom_bar</code>, utilizamos a função <code>geom_histogram</code>, que diz ao R que nós queremos desenhar um gráfico de histograma.</p>
<p>Na segunda linha, nós passamos o parâmetro <code>binwidth = 5</code> para a função de histograma, isso quer dizer que ele vai agrupar as idades em grupos de 5 anos.</p>
<p>As distribuiçãos da idade e do sexo do nosso banco de dados são informações exentremamente relevantes, mas elas por si só não dizem muito sobre doença cardíaca.
Para gerar insights desse problema, vamos começar a correlacionar variáveis com o objetivo de encontrar links interessantes que possam dizer algo sobre esse problema.</p>
</div>
<div id="enfim-correlações" class="section level2">
<h2>Enfim, Correlações</h2>
<p>Um primeiro passo para investigar as correlações - isto é, investigar como os nossos dados se relacionam entre si - é justamente calcular a <strong>matriz de correlação</strong>.</p>
<p>Uma matriz de correlação é computada ao calcular, para cada variável, qual é a sua correlação com todas as outras variáveis do banco de dados. O resultado é uma matriz onde cada elemento vai ser o <strong>coeficiente de correlação</strong> entre duas colunas.</p>
<p>Existem <em>vários</em> métodos que vão calcular o nível de correlação entre colunas, cada um com sua interpretação diferente. Uma bem comum de se usar no começo é o <a href="https://pt.wikipedia.org/wiki/Coeficiente_de_correlação_de_Pearson">método de Pearson</a>.</p>
<p>Para calcular essa matriz de correlação (no nosso código chamada de <code>cor_mat</code>), utilizamos:</p>
<pre class="r"><code>cor_matrix &lt;- heart %&gt;%
  mutate_if(is.factor, ~ as.numeric(as.character(.x))) %&gt;%
  cor(method = &quot;pearson&quot;)</code></pre>
<p>Esse código é um pouco denso, vamos destrinchá-lo.</p>
<p>A primeira linha cria uma variável <code>cor_matrix</code> e diz que o valor dela será o resultado das operações feitas nas duas linhas seguintes.
A segunda linha vai transformar todos os fatores do banco de dados <code>heart</code> em números, isso é necessário para calcular a matriz de correlação.
Por fim, a função <code>cor(method = &quot;pearson&quot;)</code> calcula a matriz de correlação pelo método Pearson.</p>
<p>Podemos visualizar a matriz de correlação com</p>
<pre class="r"><code>View(cor_matrix)</code></pre>
<div id="htmlwidget-2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"filter":"none","data":[["age","sex","cp","trestbps","chol","fbs","restecg","thalach","exang","oldpeak","slope","ca","thal","target"],[1,-0.0984466024747939,-0.0686530158401449,0.279350906561288,0.213677956559562,0.121307648093375,-0.11621089815853,-0.398521938121068,0.0968008264552677,0.210012567358674,-0.168814238012096,0.276326244019139,0.0680013770546518,-0.225438715874837],[-0.0984466024747939,1,-0.0493528753469893,-0.0567688239696433,-0.197912174141107,0.0450317891935604,-0.0581962677037546,-0.0440199077695747,0.141663810991506,0.096092877067739,-0.0307105673031726,0.11826141332036,0.210041095637207,-0.280936575501767],[-0.0686530158401449,-0.0493528753469893,1,0.0476077606446485,-0.0769043910332077,0.0944440349953314,0.0444205925101638,0.295762124587911,-0.394280268495022,-0.149230158097081,0.119716588534706,-0.181053026053495,-0.161735570510022,0.433798261506894],[0.279350906561288,-0.0567688239696433,0.0476077606446485,1,0.123174206532391,0.17753054193446,-0.11410278639187,-0.0466977281479543,0.0676161195387639,0.193216472409537,-0.12147458192645,0.101388985300551,0.0622098876308615,-0.144931128497752],[0.213677956559562,-0.197912174141107,-0.0769043910332077,0.123174206532391,1,0.0132936022516716,-0.151040078337512,-0.00993983864269823,0.0670227825739427,0.0539519199869938,-0.00403777036968376,0.0705109252260761,0.098802992500145,-0.0852391051375691],[0.121307648093375,0.0450317891935604,0.0944440349953314,0.17753054193446,0.0132936022516716,1,-0.0841890544310268,-0.00856710734348684,0.0256651472021261,0.00574722345964429,-0.059894178290418,0.137979327027851,-0.0320193393134976,-0.0280457602727128],[-0.11621089815853,-0.0581962677037546,0.0444205925101638,-0.11410278639187,-0.151040078337512,-0.0841890544310268,1,0.044123444085437,-0.0707328558723665,-0.058770226319837,0.0930448209744822,-0.07204243324693,-0.0119814045998064,0.137229502873773],[-0.398521938121068,-0.0440199077695747,0.295762124587911,-0.0466977281479543,-0.00993983864269823,-0.00856710734348684,0.044123444085437,1,-0.378812093851487,-0.344186947966716,0.386784409814819,-0.21317692811539,-0.0964391316598212,0.421740933810675],[0.0968008264552677,0.141663810991506,-0.394280268495022,0.0676161195387639,0.0670227825739427,0.0256651472021261,-0.0707328558723665,-0.378812093851487,1,0.288222807782765,-0.257748368530167,0.115739378070506,0.206753787739538,-0.436757083353303],[0.210012567358674,0.096092877067739,-0.149230158097081,0.193216472409537,0.0539519199869938,0.00574722345964429,-0.058770226319837,-0.344186947966716,0.288222807782765,1,-0.577536816729141,0.222682321827824,0.210244125982649,-0.430696001687369],[-0.168814238012096,-0.0307105673031726,0.119716588534706,-0.12147458192645,-0.00403777036968376,-0.059894178290418,0.0930448209744822,0.386784409814819,-0.257748368530167,-0.577536816729141,1,-0.0801552102146397,-0.104763794621495,0.345877078241725],[0.276326244019139,0.11826141332036,-0.181053026053495,0.101388985300551,0.0705109252260761,0.137979327027851,-0.07204243324693,-0.21317692811539,0.115739378070506,0.222682321827824,-0.0801552102146397,1,0.151832125482089,-0.391723992351253],[0.0680013770546518,0.210041095637207,-0.161735570510022,0.0622098876308615,0.098802992500145,-0.0320193393134976,-0.0119814045998064,-0.0964391316598212,0.206753787739538,0.210244125982649,-0.104763794621495,0.151832125482089,1,-0.34402926803831],[-0.225438715874837,-0.280936575501767,0.433798261506894,-0.144931128497752,-0.0852391051375691,-0.0280457602727128,0.137229502873773,0.421740933810675,-0.436757083353303,-0.430696001687369,0.345877078241725,-0.391723992351253,-0.34402926803831,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>age<\/th>\n      <th>sex<\/th>\n      <th>cp<\/th>\n      <th>trestbps<\/th>\n      <th>chol<\/th>\n      <th>fbs<\/th>\n      <th>restecg<\/th>\n      <th>thalach<\/th>\n      <th>exang<\/th>\n      <th>oldpeak<\/th>\n      <th>slope<\/th>\n      <th>ca<\/th>\n      <th>thal<\/th>\n      <th>target<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>O método de Pearson é ideal para observar correlações lineares e podemos interpretar seus coeficientes da seguinte maneira:</p>
<ul>
<li>Valores próximos a <code>1.0</code> indicam uma correlação linear <strong>positiva</strong></li>
<li>Valores próximos a <code>0.0</code> indicam que <strong>não há correlação</strong> linear</li>
<li>Valores próximos a <code>-1.0</code> indicam uma correlação linear <strong>negativa</strong></li>
</ul>
<p>Para facilitar a visualização dessa matriz, nós podemos gerar um gráfico chamado mapa de calor (<em>heatmap</em>, em inglês) das nossas correlações com o seguinte código:</p>
<pre class="r"><code>corrplot(cor_matrix, method = &quot;color&quot;, type = &quot;lower&quot;, diag = FALSE)</code></pre>
<p><img src="/post/cardiovascular_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Nesse gráfico, nós podemos observar que o eixo X e Y representam as colunas do nosso banco de dados. Na intersecção de cada uma dessas colunas, podemos observar um quadradinho colorido. É justamente a cor desse quadrado que vai representar a relação entre duas colunas.</p>
<p>Quanto mais azul o quadrado, maior a correlação positiva entre duas colunas. De maneira análoga, quanto mais vermelho o quadrado, maior a correlação negativa entre duas colunas. Quadrados esbranquiçados indicam que não há correlação entre essas duas colunas.</p>
<p>Por exemplo, se observarmos a intersecção da variável <code>oldpeak</code> com <code>slope</code>, vemos que o quadrado é bem vermelho - elas estão correlacionadas negativamente.
Traduzindo para termos da área de saúde, o valor da depressão do segmento ST está correlacionado com o tipo do segmento ST observado.</p>
<p>É possível visualizar melhor essa relação por um gráfico de densidade:</p>
<pre class="r"><code>ggplot(heart) +
  geom_density(aes(x = oldpeak, fill = slope), alpha = 0.5) +
  labs(title = &quot;Distribuição da Depressão ST&quot;, x = &quot;Valor da Depressão&quot;, y = &quot;Densidade&quot;) +
  scale_fill_discrete(name = &quot;Tipo de Segmento ST&quot;, labels = c(&quot;Ascendente&quot;, &quot;Descendente&quot;, &quot;Reta&quot;))</code></pre>
<p><img src="/post/cardiovascular_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Segmentos ST retos (em azul) tendem a ter valores de depressão menores que segmentos descendentes e ascendentes. É curioso que segmentos ST ascendentes tendem a ter um valor de depressão maior que os decendentes.</p>
<p>Outra correlação que é possível observar é que indivíduos com frequências cardíacas máximas (<code>thalach</code>) maiores estão positivamente correlacionados com a presença de doença cardíaca (<code>target</code>):</p>
<pre class="r"><code>ggplot(heart) +
  geom_density(aes(x = thalach, fill = target), alpha = 0.5) +
  labs(title = &quot;Distribuição da Frequência Cardíaca Máxima&quot;, x = &quot;Frequência Cardíaca Máxima (BPM)&quot;, y = &quot;Densidade&quot;) +
  scale_fill_discrete(name = &quot;Grupo&quot;, labels = c(&quot;Controle&quot;, &quot;Doença Cardíaca&quot;))</code></pre>
<p><img src="/post/cardiovascular_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>

    </article>


    





    
    
    




    
    
    

<section id="articleNext" class="section nartrow">
    <h3 class="footer-next-heading">More articles from Health Tech</h3>
    <div class="footer-spacer"></div>
    <div class="next-articles-grid" numberOfArticles={numberOfArticles}>
        <div class="post-row">
            
                <a href="/uma-breve-introdu%C3%A7%C3%A3o/" class="article-link"
                 id="article-link-bigger">
                    <div>
                        <div class="image-container">
                            <img src="/images/abstract_art.png" class="article-image" />
                        </div>
                        <div>
                            <h2 class="article-title">
                                Uma Breve Introdução
                            </h2>
                            <p class="article-excerpt">
                                Quem é a HealthTech?
                            </p>
                            <div class="article-metadata">
                                May 5, 2020 · 1 min read
                            </div>
                        </div>
                    </div>
                </a>
            
                <a href="/visualizando-doen%C3%A7as-cardiovasculares-com-dados/" class="article-link"
                >
                    <div>
                        <div class="image-container">
                            <img src="/images/heart.png" class="article-image" />
                        </div>
                        <div>
                            <h2 class="article-title">
                                Visualizando Doenças Cardiovasculares com Dados
                            </h2>
                            <p class="article-excerpt">
                                Carregando e entendendo um banco de dados de doenças cardiovasculares.
                            </p>
                            <div class="article-metadata">
                                June 6, 2020 · 11 min read
                            </div>
                        </div>
                    </div>
                </a>
            
        </div>
    </div>
</section>

</section>


 <script src="/js/progressBar.js"></script>

        
        <div class="footer-gradient"></div>
    <div class="section narrow">
      <div class="footer-hr"></div>
      <div class="footer-container">
        <div class="footer-text">
          © 2020 Health Tech
        </div>
        <div class="social-icon-outer">
    <div class="social-icon-container">
        
    </div>
</div>
    </div>
</div>

    </div>

    
    <script src="/js/prism.js"></script>
</body>

</html>